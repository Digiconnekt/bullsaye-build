import{u,a as x,b as g,c as p,V as a,s as h,d as f,e as d,f as j,j as s,I as S,B as I,L as v,g as b,o as N}from"./index-aml4Gf4z.js";import{S as y}from"./index-Bf9DfgZ5.js";const w=()=>{const o=u({useBearerToken:!1}),c=x(),m=g();return p({mutationFn:async e=>{console.log("payload: ",e);const n=await o.post("/login",{email:"investor1@example.com",pin:"1234"});return n==null?void 0:n.data},onSuccess:e=>{var n,i,l,t;c(h({id:(n=e==null?void 0:e.user)==null?void 0:n.id,name:(i=e==null?void 0:e.user)==null?void 0:i.name,email:(l=e==null?void 0:e.user)==null?void 0:l.email,profileImage:(t=e==null?void 0:e.user)==null?void 0:t.profile_photo_url,accessToken:e==null?void 0:e.token})),a.success((e==null?void 0:e.message)||"Successfully Signed In!"),m("/")},onError:e=>{console.log("error: ",e),a.error((e==null?void 0:e.message)||"Failed to Sign In!")}})},_=f({email:d().email("Invalid email").required("Email is required")}),E=()=>{var i;const{register:o,handleSubmit:c,formState:{errors:m}}=j({resolver:N(_)}),{mutate:r,isPending:e}=w(),n=l=>r(l);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"bg-slate-50 min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"max-w-xl w-full p-5 md:p-8 bg-white shadow-[0_0_10px_0_rgba(0,0,0,0.1)] rounded-lg",children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Welcome Back!"}),s.jsxs("form",{className:"mt-5 space-y-4",onSubmit:c(n),children:[s.jsx("div",{children:s.jsx(S,{type:"email",placeholder:"Email",className:"h-12 px-4",...o("email"),error:(i=m.email)==null?void 0:i.message})}),s.jsx("div",{children:s.jsxs(I,{type:"submit",className:"w-full h-12 font-semibold",disabled:e,children:["Sign In",e&&s.jsx(v,{className:"w-4 h-4 ml-1 animate-spin"})]})})]}),s.jsx("div",{className:"mt-5 max-w-[200px] w-full mx-auto",children:s.jsx(y,{})}),s.jsxs("p",{className:"mt-5 text-center font-medium text-sm",children:["Don't have an account?",s.jsx(b,{to:"/sign-up",className:"text-primary font-semibold ml-1.5 hover:opacity-80",children:"Sign Up"})]})]})})})};export{E as default};
