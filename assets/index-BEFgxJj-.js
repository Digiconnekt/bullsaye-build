import{l as g,u as j,m as b,j as t,r,g as v,L as x}from"./index-aml4Gf4z.js";import{D as m,u as F,a as y,H as N}from"./default-user-C1AT8ngh.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_=g("chevron-right",w),B=({params:e,enabled:l=!0}={})=>{const o=j({useBearerToken:!0,version:"v1"});return b({queryKey:["allUsers",e],queryFn:async()=>{const a=await o.get("dashboard/investors",{params:e});return a==null?void 0:a.data},enabled:l})},C=({user:e})=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 pt-4 border-t border-slate-200",children:[t.jsxs("div",{className:"flex flex-col space-y-1 items-center justify-center bg-slate-50 text-center p-2 rounded-lg",children:[t.jsx("p",{className:"font-normal text-xs leading-4 text-slate-600",children:"Win Rate"}),t.jsxs("p",{className:"font-bold text-sm leading-5 text-slate-950",children:[(e==null?void 0:e.win_rate)||0," %"]})]}),t.jsxs("div",{className:"flex flex-col space-y-1 items-center justify-center bg-slate-50 text-center p-2 rounded-lg",children:[t.jsx("p",{className:"font-normal text-xs leading-4 text-slate-600",children:"Average Return"}),t.jsxs("p",{className:"font-bold text-sm leading-5 text-slate-950",children:[(e==null?void 0:e.average_return)||0," %"]})]}),t.jsxs("div",{className:"flex flex-col space-y-1 items-center justify-center bg-slate-50 text-center p-2 rounded-lg",children:[t.jsx("p",{className:"font-normal text-xs leading-4 text-slate-600",children:"Cumulative Return"}),t.jsxs("p",{className:"font-bold text-sm leading-5 text-slate-950",children:[(e==null?void 0:e.cumulative_return)||0," %"]})]})]})}),k=({chartData:e})=>{const i=2*Math.PI*15.915,a=4,c=r.useMemo(()=>e.reduce((s,n)=>s+n.value,0),[e]),h=r.useMemo(()=>{let s=0;return e.map(n=>{const f=n.value/c*100,d=i*f/100-a,p={...n,dashArray:d,dashOffset:s};return s-=d+a,p})},[e,c,i,a]);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative w-24 h-24",children:t.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:[t.jsx("circle",{cx:"18",cy:"18",r:15.915,fill:"transparent",stroke:"#FFFFFF",strokeWidth:3}),h.map((s,n)=>t.jsx("circle",{cx:"18",cy:"18",r:15.915,fill:"transparent",stroke:s.color,strokeWidth:3,strokeDasharray:`${s.dashArray} ${i-s.dashArray}`,strokeDashoffset:s.dashOffset,strokeLinecap:"round",transform:"rotate(-90 18 18)",className:"transition-all duration-200"},n))]})}),t.jsx("div",{className:"flex-1",children:e.map((s,n)=>t.jsxs("div",{className:"mb-2 flex items-center",children:[t.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:s.color}}),t.jsx("span",{className:"font-normal text-xs leading-4 text-slate-600 mr-2",children:s.label}),t.jsx("span",{className:"font-semibold text-xs leading-4 text-slate-950",children:s.value})]},n))})]})},u=({user:e})=>{const l=[{label:"Active Calls",value:(e==null?void 0:e.active_calls)||0,color:"#6666FF"},{label:"Achieved Calls",value:(e==null?void 0:e.achieved_calls)||0,color:"#6666FF"},{label:"Partially Achieved Calls",value:(e==null?void 0:e.partially_achieved_calls)||0,color:"#B0B0FF"},{label:"Lost Calls",value:(e==null?void 0:e.lost_calls)||0,color:"#D1D1F9"}];return t.jsx(t.Fragment,{children:t.jsx("div",{className:"flex items-center justify-between gap-5 mb-4 py-4 border-y border-slate-200",children:t.jsx(k,{chartData:l})})})},A=({user:e})=>t.jsx(t.Fragment,{children:t.jsxs(v,{to:`/profiles/${e==null?void 0:e.id}`,className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("img",{src:(e==null?void 0:e.profile_photo_url)||m,alt:"Alex Johnson",className:"w-11 h-11 rounded-full object-cover",onError:l=>l.currentTarget.src=m}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold text-base leading-6 text-slate-950",children:e==null?void 0:e.name}),t.jsx("p",{className:"font-normal text-xs leading-4 text-slate-600",children:e==null?void 0:e.bio})]})]}),t.jsx(_,{size:20,className:"text-[#5C616F] cursor-pointer"})]})}),E=({user:e})=>{const{mutate:l,isPending:o}=F(),{mutate:i,isPending:a}=y(),c=()=>{e!=null&&e.is_followed?i(e==null?void 0:e.id):l(e==null?void 0:e.id)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"font-semibold text-sm leading-5 text-slate-900",children:["Total Achieved Calls: ",(e==null?void 0:e.total_achieved_calls)||0]}),e!=null&&e.is_followed?t.jsxs("button",{className:"rounded-xl flex items-center border border-indigo-600 text-indigo-600 font-medium text-sm leading-5 py-[6px] px-6 cursor-pointer hover:bg-indigo-600 hover:text-white transition-all ease-in-out",onClick:c,children:["Following",a&&t.jsx(x,{className:"w-4 h-4 ml-1 animate-spin"})]}):t.jsxs("button",{className:"rounded-xl flex items-center border border-indigo-600 font-medium text-sm leading-5 py-[6px] px-6 cursor-pointer bg-indigo-600 text-white hover:opacity-80 transition-all ease-in-out",onClick:c,children:["Follow",o&&t.jsx(x,{className:"w-4 h-4 ml-1 animate-spin"})]})]})})},U=({user:e})=>{const l=(e==null?void 0:e.accuracy)??0,o=r.useMemo(()=>l<50?"#FFF1F2":l<80?"#FEFCE8":"#F0FDF4",[l]);return t.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:o},children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("p",{className:"font-normal text-xs leading-4 text-slate-900",children:"Accuracy Rate"}),t.jsxs("p",{className:"font-bold text-sm leading-5 text-slate-950",children:[l,"%"]})]}),t.jsx(N,{percent:l})]})},D=({user:e})=>t.jsxs("div",{className:"rounded-[20px] bg-white border border-slate-200 shadow-[2px_4px_16px_0px] shadow-[#E2E3EE40] py-5 px-6",children:[t.jsx(A,{user:e}),t.jsx(U,{user:e}),t.jsx(C,{user:e}),t.jsx(u,{user:e}),t.jsx(E,{user:e})]});export{D as C,B as u};
